<form
  [formGroup]="postForm"
  (ngSubmit)="savePost()"
  enctype="multipart/form-data"
>
  <fieldset>
    <legend>Post Form</legend>
    <!-- <div>
      <label>Text:</label>
      <div>
        <textarea
          formControlName="text"
          rows="5"
          placeholder="text..."
        ></textarea>
        <span
          *ngIf="
            postForm.get('text').errors?.required &&
            (postForm.get('text').dirty || postForm.get('text').touched)
          "
          [style.color]="'red'"
          >*</span
        >
        <span
          *ngIf="
            postForm.get('text').errors?.minlength ||
            postForm.get('text').errors?.maxlength
          "
          [style.color]="'red'"
          >3-200 letters! letters number:{{
            postForm.get("text").value.length
          }}</span
        >
      </div>
    </div> -->

    <div>
      <form formGroupName="location">
        <app-form-number-input
          formControlName="latitude"
          label="Latitude:"
          placeholder="latitude..."
        ></app-form-number-input>
        <app-form-number-input
          formControlName="longtitude"
          label="Longtitude:"
          placeholder="longtitude..."
        ></app-form-number-input>
      </form>
    </div>

    <div>
      <label>UsersTags:</label>
      <div>
        <div>
          <ng-autocomplete
            #usertag
            [data]="users"
            [searchKeyword]="'username'"
            (selected)="selectEvent(usertag)"
            [itemTemplate]="itemTemplate"
            [notFoundTemplate]="notFoundTemplate"
          >
          </ng-autocomplete>

          <ng-template #itemTemplate let-item>
            <a [innerHTML]="item.username"></a>
          </ng-template>

          <ng-template #notFoundTemplate let-notFound>
            <div [innerHTML]="notFound"></div>
          </ng-template>
        </div>

        <span
          *ngFor="let tagged of postUserTags; let i = index"
          (click)="removeUserTag(i)"
          >{{ tagged.username }}</span
        >
      </div>
    </div>

    <app-form-image-input
      label="Photo:"
      formControlName="photo"
    ></app-form-image-input>

    <app-tag-input
      label="Tags:"
      placeholder="tag..."
      formControlName="tags"
    ></app-tag-input>

    <app-usertag-input
      label="Userstags:"
      placeholder="username..."
      formControlName="usersTags"
    ></app-usertag-input>

    <button type="submit">Save</button>
  </fieldset>
</form>
